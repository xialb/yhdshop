"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var HelpList=function(){function e(){_classCallCheck(this,e),this.ele=document.querySelector(".register_header_right .header_help"),this.list=document.querySelector(".header_help .help_list"),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.ele.onmouseover=function(){e.list.style.display="block"},this.ele.onmouseout=function(){e.list.style.display="none"}}}]),e}();new HelpList;var Remember=function(){function e(){_classCallCheck(this,e),this.check=document.querySelector("#ipt_wrap .auto_login p:nth-child(1) a"),this.tit=document.querySelector("#ipt_wrap .auto_login p:nth-child(1) span"),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.check.onmouseenter=function(){0!=this.className.indexOf("check_click")&&(this.style.backgroundPositionY="-295px")},this.check.onmouseleave=function(){0!=this.className.indexOf("check_click")&&(this.style.backgroundPositionY="-265px")},this.check.onclick=function(){$(this).toggleClass("check_click"),0==e.check.className.indexOf("check_click")?e.tit.style.display="block":e.tit.style.display="none"}}}]),e}();new Remember;var MoreLand=function(){function e(){_classCallCheck(this,e),this.btn=document.querySelector(".login_Cooperation .more_control"),this.moreBox=document.querySelector(".login_Cooperation .more_list"),this.init(),this.flag=0}return _createClass(e,[{key:"init",value:function(){var e=this;this.btn.onclick=function(){0==e.flag?(e.moreBox.style.display="block",e.btn.style.backgroundPositionY="10px",e.flag=1):1==e.flag&&(e.moreBox.style.display="none",e.btn.style.backgroundPositionY="-30px",e.flag=0)}}}]),e}();new MoreLand;var LoginServer=function(){function e(){_classCallCheck(this,e),this.control=document.getElementById("username"),this.serverBox=document.querySelector("#ipt_wrap .auto_login p:nth-child(2)"),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.control.onblur=function(){this.value?$(e.serverBox).slideDown(500):$(e.serverBox).slideUp(500)}}}]),e}();new LoginServer;var CodeSwitch=function(){function e(){_classCallCheck(this,e),this.ipt=document.querySelector(".main_wrap .main_right .ipt_model"),this.ewm=document.querySelector(".main_wrap .main_right .login_code"),this.codeControl=document.querySelector(".codeswitch div"),this.init(),this.code="ewm"}return _createClass(e,[{key:"init",value:function(){var e=this;this.codeControl.onmouseenter=function(){this.style.backgroundPositionY="-88px"},this.codeControl.onmouseleave=function(){this.style.backgroundPositionY="0"},this.codeControl.onclick=function(){"ipt"==e.code?(this.style.backgroundPositionX="-88px",e.ewm.style.display="none",e.ipt.style.display="block",e.code="ewm"):"ewm"==e.code&&(this.style.backgroundPositionX="0",e.ipt.style.display="none",e.ewm.style.display="block",e.code="ipt")}}}]),e}();new CodeSwitch;var LoginSend=function(){function e(){_classCallCheck(this,e),this.error=document.querySelector(".ipt_model .error_pic"),this.loginBtn=document.getElementById("login_btn"),this.username=document.getElementById("username"),this.password=document.getElementById("password"),this.remPasswordBtn=document.querySelector(".auto_login p a:nth-of-type(1)"),this.init()}return _createClass(e,[{key:"init",value:function(){var t=this;this.loginBtn.onclick=function(){t.username.value&&t.password.value?ajaxPost("../lib/interface/login.php",function(e){0==(e=JSON.parse(e)).code?(window.location.href="index.html",t.remPassword()):(1==e.code?t.error.innerHTML="用户名不存在":2==e.code?t.error.innerHTML="密码错误,请重试":t.error.innerHTML="登录失败,请重试",$(t.error).show(200))},{username:t.username.value,password:t.password.value}):t.username.value?t.password.value?t.username.value||t.password.value||t.errorToast("up"):t.errorToast("password"):t.errorToast("username")},this.username.onfocus=function(){this.parentElement.style.borderColor="#dedede"},this.password.onfocus=function(){this.parentElement.style.borderColor="#dedede"}}},{key:"remPassword",value:function(){-1!=this.remPasswordBtn.className.indexOf("check_click")?setCookie("username",this.username.value,{expires:6048e5}):(removeCookie("username"),setCookie("username",this.username.value))}},{key:"errorToast",value:function(e){"up"==e?(this.error.innerHTML="请完成账号和密码的输入",$(this.error).show(200)):"username"==e?(this.error.innerHTML="请输入您的账号名",$(this.error).show(200),this.username.parentElement.style.borderColor="red"):"password"==e&&(this.error.innerHTML="请完成密码的输入",$(this.error).show(200),this.password.parentElement.style.borderColor="red")}}]),e}();new LoginSend;var Setusername=function(){function e(){_classCallCheck(this,e),this.username=document.getElementById("username"),this.bar=document.querySelector(".login_service_strip"),this.init()}return _createClass(e,[{key:"init",value:function(){var e=window.location.href.split("?")[1];if(e){e=e.split("&");for(var t=0;t<e.length;t++)"username"==e[t].split("=")[0]&&(this.username.value=decodeURIComponent(e[t].split("=")[1]),$(this.bar).slideDown(500))}}}]),e}();new Setusername;