"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var ChangeNotice=function(){function t(){_classCallCheck(this,t),this.list=document.querySelector(".hd_topbarhome_list"),this.index=1,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this,e=this.list.children[0].cloneNode(!0);this.list.appendChild(e),clearInterval(this.list.timer),this.list.timer=setInterval(function(){$(t.list).animate({top:30*-t.index},300,function(){t.index++,t.index==t.list.children.length&&(t.index=1,t.list.style.top="0")})},2e3)}}]),t}();new ChangeNotice;var Search=function(){function t(){_classCallCheck(this,t),this.input=document.getElementById("hd_search"),this.contentBox=document.querySelector(".hd_main_right .search_content ul"),this.init(),this.borCor()}return _createClass(t,[{key:"init",value:function(){var i=this,n="";this.input.oninput=function(){i.contentBox.innerHTML=n,jsonp1("https://suggest.taobao.com/sug?code=utf-8&q="+this.value+"&_ksTS=1593314375249_483&callback=jsonp484&k=1&area=c2c&bucketid=12",function(t){n="";for(var e=0;e<t.result.length;e++)n+='<li><a href="javascript:;">'.concat(t.result[e][0],"</a></li>");i.contentBox.innerHTML=n},{callback:"searchcb",callbackName:"callback"})},this.input.onfocus=function(){i.contentBox.innerHTML=n},this.input.onblur=function(){i.contentBox.innerHTML=""}}},{key:"borCor",value:function(){this.input.onmouseenter=function(){this.parentElement.style.borderColor="#ff4040"},this.input.onmouseleave=function(){this.parentElement.style.borderColor="#e2e2e2"}}}]),t}();new Search;var TabDisplay=function(){function t(){_classCallCheck(this,t),this.url="../lib/json/tab.json",this.titBox=document.querySelector(".hd_main_nav .categories_list"),this.detailBox=document.querySelector(".hd_main_nav .categories_detail"),this.displayTit(),this.displayDetail(),this.arr=[]}return _createClass(t,[{key:"displayTit",value:function(){var l=this;ajaxGet(this.url,function(t){l.data=JSON.parse(t);for(var e=0;e<l.data.length;e++){var i=document.createElement("div");for(var n in i.className="categories_tab",i.index=e,l.data[e]){var a=document.createElement("a");a.innerHTML=n,i.appendChild(a);var s=document.createElement("span");s.innerHTML="/",i.appendChild(s)}var o=document.createElement("i");o.className="iconfont",o.innerHTML="&#xe626",i.lastElementChild.remove(),i.appendChild(o),l.titBox.appendChild(i)}})}},{key:"displayDetail",value:function(){var d=this;ajaxGet(this.url,function(t){d.data=JSON.parse(t);for(var e=0;e<d.data.length;e++){var i=document.createElement("div");for(var n in i.className="categories_detail_show",d.data[e]){var a=document.createElement("div");a.className="tit";var s=document.createElement("h3");s.innerHTML=n;var o=document.createElement("a");o.innerHTML='更多<i class="iconfont">&#xe626</i>',a.appendChild(s),a.appendChild(o);var l=document.createElement("ul");l.className="classify clear_fix";for(var r=0;r<d.data[e][n].length;r++){var c=document.createElement("li"),h=document.createElement("a");h.innerHTML=d.data[e][n][r],c.appendChild(h),l.appendChild(c)}i.appendChild(a),i.appendChild(l)}d.detailBox.appendChild(i)}})}}]),t}();new TabDisplay;var TabSwitch=function(){function t(){_classCallCheck(this,t),this.i=document.querySelector(".categories_tit i:nth-of-type(2)"),this.tit=document.querySelector(".categories_tit"),this.tabbox=document.querySelector(".categories_list"),this.tabArr=this.tabbox.children,this.detailbox=document.querySelector(".categories_detail"),this.detailArr=this.detailbox.children,this.init()}return _createClass(t,[{key:"init",value:function(){var a=this;this.display(),this.getSeat(),this.tabbox.onmouseover=function(t){var e=t||window.event,i=e.target||e.srcElement;if("categories_tab"==i.className)a.detailBN(i.index);else if("categories_list"==i.className){for(var n=0;n<a.detailArr.length;n++)a.detailArr[n].style.display="none";a.detailArr[0].style.display="block"}else a.detailBN(i.parentElement.index)}}},{key:"display",value:function(){-1!=this.tit.id.indexOf("active_one")?(this.tabbox.style.display="block",this.i.innerHTML="&#xe63f"):(this.tabbox.style.display="none",this.i.innerHTML="&#xe65f",this.detailbox.style.display="none"),-1!=this.tabbox.id.indexOf("active_two")&&-1!=this.tit.id.indexOf("active_one")?this.detailbox.style.display="block":this.detailbox.style.display="none"}},{key:"detailBN",value:function(t){for(var e=0;e<this.detailArr.length;e++)this.detailArr[e].style.display="none";this.detailArr[t].style.display="block"}},{key:"getSeatFn",value:function(){this.oneX1=this.tit.getBoundingClientRect().left,this.oneX2=this.oneX1+parseInt(getStyle(this.tit,"width")),this.oneY1=this.tit.getBoundingClientRect().top,this.oneY2=this.oneY1+parseInt(getStyle(this.tit,"height")),this.twoX1=this.oneX1+parseInt(getStyle(this.tabbox,"left")),this.twoX2=this.twoX1+parseInt(getStyle(this.tabbox,"width")),this.twoY1=this.oneY1+parseInt(getStyle(this.tit,"height"))-5,this.twoY2=this.twoY1+parseInt(getStyle(this.tabbox,"height")),this.threeX1=this.twoX1+parseInt(getStyle(this.tabbox,"width")),this.threeX2=this.threeX1+parseInt(getStyle(this.detailbox,"width")),this.threeY1=this.twoY1,this.threeY2=this.threeY1+parseInt(getStyle(this.detailbox,"height"))}},{key:"getSeat",value:function(){var i=this;document.onmousemove=function(){i.getSeatFn()},$(this.tit).hover(function(){i.tit.id="active_one",i.display()},function(t){var e=t||window.event;e.clientX>i.twoX1&&e.clientX<i.twoX2&&e.clientY>i.twoY1&&e.clientY<i.twoY2?i.tabbox.id="active_two":(i.tit.id="",i.tabbox.id=""),i.display()}),$(this.tabbox).hover(function(){i.tabbox.id="active_two",i.display()},function(t){var e=t||window.event;e.clientX>i.twoX2&&e.clientY<i.threeY2?(i.tit.id="active_one",i.tabbox.id="active_two"):(i.tit.id="",i.tabbox.id=""),i.display()}),$(this.detailbox).hover(function(){i.tit.id="active_one",i.tabbox.id="active_two",i.display()},function(t){var e=t||window.event;e.clientX<i.threeX1&&e.clientY>i.threeY1&&e.clientY<i.threeY2?(i.tit.id="active_one",i.tabbox.id="active_two"):(i.tit.id="",i.tabbox.id=""),i.display()})}}]),t}();new TabSwitch;var Getuser=function(){function t(){_classCallCheck(this,t),this.user=document.querySelector(".hd_topbar_right .hd_topbar_user a"),this.init()}return _createClass(t,[{key:"init",value:function(){this.user.innerHTML=getCookie("username")}}]),t}();new Getuser;